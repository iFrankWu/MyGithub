<fieldset style="width:600px;height:80%">
			<legend>基本信息</legend>
        <form ng-submit="submit()">
      <table>
          <tr>
              <td>学生姓名: </td>
              <td> <input type="text" class="span4" placeholder="Student Name" required="required" ng-model="student.name"></td>
              <td></td>
          </tr>

          <tr>
              <td>性别: </td>
              <td> 
                  <input  type="radio"  required="required"   ng-model="student.sex" name="sex" value="male">男</input>
                  <input  type="radio"  required="required"    ng-model="student.sex" name="sex" value="female">女</input>
              </td>
              <td></td>
          </tr>
          <tr>
              <td>出生年月日:</td>
              <td><input type="date" class="span4" required="required" ng-model="student.age"></td>
              <td></td>
          </tr>

          <tr>
              <td>联系人:</td>
              <td><input type="text" class="span4" placeholder="Student Contact" required="required" ng-model="student.contact"></td>
              <td></td>
          </tr>

             <tr>
              <td>联系电话: </td>
              <td>  <input type="text" class="span4" placeholder="Student MobilePhone" required="required" ng-model="student.mobilePhone"> </td>
              <td>  <a href="" class="btn"  ng-click="checkStudent()">检查</a> </td>
          </tr>
		      <tr>
              <td colspan="3">
                <label >增加联系电话:    
                  <a href="" class="btn" ng-click="addPhone()">+</a>
                </label>
              </td>
           </tr>  
              <!-- 
             <tr ng-show="otherTelephones!=null && otherTelephones.length > 0">
                      <td colspan="3"> <a href="" class="btn"  ng-click="addMorePhone()">增加联系电话</a></td>
              </tr>
            -->
                     <tr ng-show="otherTelephones!=null && otherTelephones.length > 0" ng-repeat="phone in  otherTelephones  track by $index">
                        <td>联系电话 {{$index+1}}:</td>
                        <td><input type="text" class="span4" placeholder="Other MobilePhone" ng-model="otherTelephones[$index]"></td>
                        <td> <a href="" class="btn" ng-click="removePhone($index)">删除</a></td>
                      </tr>
                <tr>
                    <td>固定电话:</td>
                    <td>  <input type="text" class="span4" placeholder="Student Phone" required="required" ng-model="student.telephone"></td>
                    <td></td>
                </tr>
                 <tr>
                    <td>QQ:</td>
                    <td> <input type="text" class="span4" placeholder="QQ number"  ng-model="student.qq"></td>
                    <td></td>
                </tr>
                  <tr>
                    <td>学校:</td>
                    <td><input type="text" class="span4" placeholder="学校"  ng-model="student.school"></td>
                    <td></td>
                </tr>
                  <tr>
                    <td>联系地址:</td>
                    <td><input  type="text" class="span4" placeholder="Student Address"  ng-model="student.address"></td>
                    <td></td>
                </tr>

                <tr>
                    <td>Email:</td>
                    <td> <input  type="email" name="email" class="span4" placeholder="Student Email,Such as wushexin@gmail.com" required ng-model="student.email"></td>
                    <td></td>
                </tr>

                <tr>
                    <td>学生状态:</td>
                    <td><input  type="text" class="span4" placeholder="Student Status" required="required" ng-model="student.status"></td>
                    <td>
                    <!--
                      <span class="hint" >长期跟踪/挖掘需求 追追有戏/天天电话 意向较强/施加压力 铁定报名/敲定时间</span>
                    -->
                    </td>
                </tr>

                <tr>
                    <td>数据来源:</td>
                    <td><input type="text" class="span4" placeholder="Student Data From" required="required" ng-model="student.dataFrom"></td>
                    <td>
                      <!--
                      <span class="hint">网络/短信/直访/口碑/单页/海报/社区活动/员工老师推/TQ咨询/信息资源/市场活动/面咨/未登记老单回访/其他</span>
                      -->
                      </td>
                </tr>

                   <tr>
                    <td>已经签单:</td>
                    <td><input  type="checkbox" ng-model="student.doesBill"></td>
                    <td></td>
                </tr>
                <tr>
                    <td>备注：</td>
                    <td><input  type="text" ng-model="student.remark" class="span4"></td>
                    <td></td>
                </tr>
            </table>
      
            	<div style="clear:left">
            	<fieldset>
            	<legend>分配班级：</legend>
						<table >
						  <tr>
						    <td >
							    <table >
							      <tr>
							        <td >　　请选择：</td>
							      </tr>
							      <tr>
							        <td >
								        <select  multiple ng-multiple="true"  ng-model="selected1" >
								          <option ng-repeat="c in allClazzes" value="{{c.className}}" >{{c.className}}</option>

								        </select>

							        </td>
							      </tr>
							    </table>
						    </td>
						    <td  valign="bottom">
							    <a href="" class="btn" ng-click="removeAClass()"><<</a>
							    <a href="" class="btn" ng-click="selectAClass()">>></a>
						    </td>
						    
						    <td >
							    <table>
							      <tr>
							        <td >　　　请选择：</td>
							      </tr>
							      <tr>
							        <td >
							        	<select multiple ng-multiple="true" ng-model="selected2">
							        		<option ng-repeat="c in student.clazzes" value="{{c.className}}">{{c.className}}</option>
							            </select></td>
							      </tr>
							    </table>
						    
						   </td>
						  </tr>
						</table>
            	</fieldset>
            </div>
        
         <label ng-show="student.paymentHistorys == null || student.paymentHistorys.length == 0">增加付款信息:  
                <input  type="checkbox"  ng-click="addPay()">
            </label>
  <div ng-show="student.paymentHistorys!=null && student.paymentHistorys.length > 0">
      <fieldset>
             <legend>付款信息</legend>
            <table style="width:100%">
                     <tr ng-repeat="paymentHistory in  student.paymentHistorys | orderBy:$index:true">
                        <td>
                            <table>
                                <tr>
                                    <td><label class="span2">选择班级</label></td>
                                    <td>
                                      <!-- <select style="width:170px" class="span2" ng-model="selectedClassToPay" ng-change="changeClass(this,$index)" ><option ng-repeat="c in student.clazzes" value="{{c}}">{{c.className}}</option></select> 
                                    -->
  <select  ng-readonly="$index < initialPaymentHistorySize" style="width:170px" required="required" ng-change="changeClass(paymentHistory,$index)" ng-model="paymentHistory.selectedClass" ng-options="v for v in getColFromArray(student.clazzes,'className')"></select>
                                    </td>

                                    

                                    <!--
                                    <td><span  class="span2" ng-show="payAmountForPay[$index]!=null">学费:<font color="red">{{payAmountForPay[$index]}} </font>元,</span>方式:</td> -->
                                    <td>
                                    

                                      <select required="required" ng-readonly="$index < initialPaymentHistorySize" style="width:80px" class="span2" ng-model="paymentHistory.selectedPayway" ng-change="changePayway(paymentHistory,$index)" ng-options="v for v in getColFromArray(paywaysForPay[$index],'payway')">
                                       </select>
                                 <!--
                                        <select style="width:80px" class="span2" ng-model="paymentHistory.selectedPayway" ng-change="changePayway(paymentHistory,$index)" ng-options="v for v in getColFromArray(getObjectFromArrayByColValue(student.clazzes,'className',paymentHistory.selectedClass).payways,'payway')">
                                       </select>
                                         -->

                                    </td>
                                    <td></td>
                                    <td><span style="width:100px;font-size:20px" ng-show="discountForPay[$index]!=null"><!--折扣:<font color="red">{{discountForPay[$index]}}</font>,金额:--><font color="red"> ￥{{paymentHistory.payAmount}}</font></span></td>

                                </tr>
                                <tr>
                                  <td colspan="1">付款目的:</td>
                                  <td colsapn="1"><input required="required" ng-readonly="$index < initialPaymentHistorySize" type="text" class="span2" placeholder="Student pay purpose" required="required" ng-model="paymentHistory.purpose"></td>
                                  <td></td>
                                  <td></td>
                                  <td></td>
                                </tr>
                                 <tr>
                                  <td>付款方式:</td>
                                  <td> 
                                    <!-- <select style="width:170px"><option value=0>现金</option><option value=1>刷卡</option><option value=2>转账</option></select> -->
                                    <select required="required" ng-readonly="$index < initialPaymentHistorySize" style="width:170px" ng-model="paymentHistory.cashOrCard" ng-options="v for v in payways.values"></select>

                                    <!-- <select ng-model="newEmp.group" ng-options="v for v in group.values">    </select>-->

                                  </td>
                                  <td></td>
                                  <td></td>
                                  <td></td>
                                </tr>
                                 <tr>
                                  <td colspan="1">过期提醒:</td>
                                  <td colsapn="1"><input  type="checkbox" class="span2" placeholder="Student doesNeedReminder" ng-model="paymentHistory.doesNeedReminder"></td>
                                   <td></td>
                                  <td></td>
                                  <td></td>
                                </tr>
                                 <tr>
                                  <td colspan="1">备注:</td>
                                  <td colsapn="1"><input  type="text" class="span2" placeholder="Student remark"  ng-model="paymentHistory.remark"></td>
                                   <td></td>
                                  <td></td>
                                  <td></td>
                                </tr>
                                 <tr>
                                  <td colspan="1">生效日期:</td>
                                  <td colsapn="1"><input required="required" ng-readonly="$index < initialPaymentHistorySize" type="date" class="span2"  required="required" ng-model="paymentHistory.startDate"></td>
                                   <td></td>
                                  <td></td>
                                  <td></td>
                                </tr>
                                 <tr>
                                  <td colspan="1">过期日期: </td>
                                  <td colsapn="1"><input required="required" ng-readonly="$index < initialPaymentHistorySize"  type="date" class="span2"  required="required" ng-model="paymentHistory.endDate"></td>
                                   <td></td>
                                  <td></td>
                                  <td></td>
                                </tr>
                                 <tr>
                                  <td colspan="1">付款日期:</td>
                                  <td colsapn="1"><input  required="required" ng-readonly="$index < initialPaymentHistorySize" type="date" class="span2" placeholder="Payment endDate,Such as 2013-04-18" required="required" ng-model="paymentHistory.payDate"></td>
                                   <td></td>
                                  <td></td>
                                  <td></td>
                                </tr>
                                 <tr>
                                  <td colspan="1">账户余额</td>
                                  <td colsapn="1">{{student.accountBalance }}</td>
                                  <td></td>
                                  <td></td>
                                  <td></td>
                                </tr>
                                
                                <tr>
                                    <Td>使用余额</td>
                                    <td><input ng-readonly="$index < initialPaymentHistorySize" style="width:80px" type="text" ng-model="useBalances[$index]" ng-change="checkBalance($index)"></input></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                  <Td>剩余余额</td>
                                    <td>{{student.accountBalance - useBalances.sum()}}</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr> 
                                <tr>
                                    <td>支付</td>
                                    <td>{{paymentHistory.payAmount - useBalances[$index]}}</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr><td colspan="5"><hr style="border : 1px dashed blue;" /></td></tr>

                            </table>  
                        </td> 
                        <td><button class="btn" ng-disabled="$index < initialPaymentHistorySize && !isAdmin" ng-click="removePayHtml($index)" style="heigh:30px">移除</button></td>
                     </tr>
                     <tr><td colspan="2"><a href="" class="btn" ng-click="addMorePayInfo()">增加</a></td></tr>
            </table>  
           
      </fieldset> 
<!--  initialCommentSize -->

  </div>
            <label ng-show="student.communications==null || student.communications.length == 0">增加跟踪记录:	
                <input type="checkbox"  ng-click="addComm()">
            </label>
            	<div  ng-show="student.communications!=null && student.communications.length > 0">
            	 <fieldset>
            	     <legend>跟踪记录</legend>
                  <table>
                      <tr ng-repeat="communication in  student.communications" style="width:100%">
                          <Td> 日期:  </td>
                          <td> <input required="required" ng-readonly="$index < initialCommentSize" type="date" class="span2" required="required" ng-model="communication.communicationDate"> </td>
                          <td>内容:</td>
                          <td> 
                          <textarea required="required" rows="5" ng-readonly="$index < initialCommentSize" ng-model="communication.content" name="communication.content" ngChange="alert(this)" placeholder="Communication content"  required="required"  ></textarea>
                          </td>
                          <td><button ng-disabled="$index < initialCommentSize && !isAdmin" class="btn" ng-click="removeCommHtml($index)">移除</button></td>
                      </tr>
                      <tr>
                        <td><a href="" class="btn" ng-click="addMoreCommInfo()">增加</a></td>
                      </tr>
                  </table>  
            	</fieldset>
            	</div>
            
            <label>
              <!-- <input type="submit"  value="保存" class="btn" ng-click="submit()"> -->
              <input type="submit"  value="保存" class="btn">
              <input type="reset" value="取消" class="btn" ng-click="cancel()"> 
              </label>
            </form>
	</fieldset>